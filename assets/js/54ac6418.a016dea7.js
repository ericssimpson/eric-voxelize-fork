"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4305],{798:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=t(4246),r=t(1670);const s={sidebar_position:6},a="Create the Client",l={id:"basics/create-the-client",title:"Create the Client",description:"Now that we have a running server, it's time for us to create our client.",source:"@site/docs/tutorials/basics/6-create-the-client.md",sourceDirName:"basics",slug:"/basics/create-the-client",permalink:"/voxelize/tutorials/basics/create-the-client",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Chunk Generation",permalink:"/voxelize/tutorials/basics/chunk-generation"},next:{title:"Voxelize Networking",permalink:"/voxelize/tutorials/basics/handle-the-network"}},o={},c=[{value:"Voxelize and ThreeJS",id:"voxelize-and-threejs",level:2},{value:"Setting Up the Canvas",id:"setting-up-the-canvas",level:2},{value:"Creating the World",id:"creating-the-world",level:2},{value:"ThreeJS Setup",id:"threejs-setup",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"create-the-client",children:"Create the Client"}),"\n",(0,i.jsx)(n.p,{children:"Now that we have a running server, it's time for us to create our client."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(248).Z+"",width:"662",height:"541"})}),"\n",(0,i.jsx)(n.p,{children:"As seen again in this diagram, the client will:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Connect to the server"}),"\n",(0,i.jsx)(n.li,{children:"Join a world within the server"}),"\n",(0,i.jsx)(n.li,{children:"Start rendering the game"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"voxelize-and-threejs",children:"Voxelize and ThreeJS"}),"\n",(0,i.jsxs)(n.p,{children:["On the client-side, Voxelize is closely tied to ThreeJS, a 3D rendering library. For instance, the Voxelize ",(0,i.jsx)(n.code,{children:"World"})," extends the ThreeJS ",(0,i.jsx)(n.code,{children:"Scene"}),", and ",(0,i.jsx)(n.code,{children:"RigidControls"})," move around the ThreeJS ",(0,i.jsx)(n.code,{children:"PerspectiveCamera"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Therefore, to fully understand Voxelize, it is best to understand ThreeJS as well. Here are some of the resources I found most helpful in learning ThreeJS:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://threejs-journey.com/",children:"ThreeJS Journey"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://threejs.org/manual/#en/fundamentals",children:"Official ThreeJS Docs"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The ThreeJS community is very welcome, and you will definitely have a great time learning!"}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-the-canvas",children:"Setting Up the Canvas"}),"\n",(0,i.jsxs)(n.p,{children:["Right now, when running ",(0,i.jsx)(n.code,{children:"npm run dev"}),", we see nothing. The page is empty, so let's start by creating our ",(0,i.jsx)(n.code,{children:"canvas"})," that ThreeJS will draw on."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="index.html"',children:'<body>\n    <div id="app">\n        <canvas id="canvas" />\n    </div>\n    <script type="module" src="/main.js"><\/script>\n</body>\n'})}),"\n",(0,i.jsx)(n.p,{children:"Set the canvas as full screen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",metastring:'title="style.css"',children:"html,\nbody {\n  height: 100%;\n  overflow: hidden;\n}\n\n#canvas {\n  width: 100%;\n  height: 100%;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, get the canvas in JavaScript to use later:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="main.js"',children:'const canvas = document.getElementById("canvas");\n'})}),"\n",(0,i.jsx)(n.h2,{id:"creating-the-world",children:"Creating the World"}),"\n",(0,i.jsxs)(n.p,{children:["The Voxelize world on the client side is essentially the ThreeJS ",(0,i.jsx)(n.code,{children:"Scene"})," object with additional chunking features. It request chunks, handles chunk updates, and also handles anything ThreeJS related."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="main.js"',children:"import * as VOXELIZE from '@voxelize/core';\nimport * as THREE from 'three';\n\nconst world = new VOXELIZE.World({\n    textureUnitDimension: 16,\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"Here, we set the texture unit dimension to 16 (defaults to 8) for a higher resolution texture."}),"\n",(0,i.jsx)(n.h2,{id:"threejs-setup",children:"ThreeJS Setup"}),"\n",(0,i.jsx)(n.p,{children:"Next, we setup the ThreeJS related stuff:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="main.js"',children:"const camera = new THREE.PerspectiveCamera(\n    75, window.innerWidth / window.innerHeight, 0.1, 3000,\n);\n\nconst renderer = new THREE.WebGLRenderer({\n    antialias: true,\n    powerPreference: 'high-performance',\n    canvas,\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.setPixelRatio(window.devicePixelRatio || 1);\nrenderer.outputColorSpace = THREE.SRGBColorSpace; // Voxelize uses the SRGB color space.\n\nwindow.addEventListener('resize', () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"With these in place, we're ready to implement the networking and the main game loop in the next chapter."})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},248:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/server-vs-client-446dd21d895117e71d6891f8d33983f1.png"},1670:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>a});var i=t(7378);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);